<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Para Gaby</title>
  <style>
    :root{
      --bg1:#0b1220;
      --bg2:#111827;
      --card:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.16);
      --txt:#ffffff;
      --muted:rgba(255,255,255,.78);
      --btn:#22c55e;
      --btn2:#60a5fa;
      --btn3:#f472b6;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 700px at 15% 10%, #1d4ed8 0%, transparent 50%),
                  radial-gradient(900px 600px at 85% 15%, #ec4899 0%, transparent 55%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      color:var(--txt);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:22px;
      overflow:hidden;
    }

    /* corazoncitos flotando */
    .float{ position:fixed; inset:0; pointer-events:none; opacity:.55; }
    .float span{
      position:absolute;
      font-size:18px;
      animation: rise linear infinite;
      filter: drop-shadow(0 8px 14px rgba(0,0,0,.35));
    }
    @keyframes rise{
      from{ transform: translateY(30vh) translateX(0) scale(.9); opacity:0; }
      15%{opacity:1}
      to{ transform: translateY(-120vh) translateX(40px) scale(1.15); opacity:0; }
    }

    .card{
      width:100%;
      max-width:520px;
      background:var(--card);
      border:1px solid var(--border);
      border-radius:22px;
      padding:18px;
      box-shadow: 0 18px 44px rgba(0,0,0,.35);
      backdrop-filter: blur(12px);
    }

    .top{ display:flex; gap:14px; align-items:center; margin-bottom:14px; }

    .avatar{ width:84px; height:84px; border-radius:18px; overflow:hidden; border:1px solid rgba(255,255,255,.18); }
    .avatar img{ width:100%; height:100%; object-fit:cover; transform: scale(1.02); }

    .title h1{ margin:0; font-size:22px; line-height:1.2; }
    .title p{ margin:6px 0 0; color:var(--muted); font-size:13.5px; }

    .bubble{
      margin-top:10px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;
      padding:14px 14px 12px;
    }

    .type{ font-size:18px; line-height:1.55; min-height:64px; white-space:pre-wrap; }

    .cursor{
      display:inline-block;
      width:8px;
      height:18px;
      background: rgba(255,255,255,.8);
      margin-left:6px;
      border-radius:3px;
      transform: translateY(3px);
      animation: blink .8s infinite;
    }
    @keyframes blink{ 50%{opacity:.15} }

    .actions{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:12px;
    }

    button{
      border:0;
      border-radius:14px;
      padding:12px 12px;
      font-weight:800;
      cursor:pointer;
      font-size:14.5px;
      transition: transform .06s ease;
    }
    button:active{ transform: scale(0.99); }

    .b1{ background: var(--btn); color:#071015; }
    .b2{ background: var(--btn2); color:#071015; }
    .b3{ background: var(--btn3); color:#071015; grid-column: 1 / -1; }

    .gifBox{
      margin-top:12px;
      display:none;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      animation: popGif .25s ease-out forwards;
    }
    @keyframes popGif{
      from{ transform: translateY(6px); opacity:0; }
      to{ transform: translateY(0); opacity:1; }
    }
    .gifBox img{
      width:100%;
      display:block;
      max-height:260px;
      object-fit:cover;
    }

    .mini{
      margin-top:12px;
      font-size:12.5px;
      color:rgba(255,255,255,.72);
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }

    .pulse{ animation: pulse 1s ease-in-out infinite; }
    @keyframes pulse{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.03); }
    }
  </style>
</head>

<body>
  <div class="float" id="float"></div>

  <div class="card">
    <div class="top">
      <div class="avatar">
        <img src="mi%20imagen.jpg" alt="Gaby" />
      </div>
      <div class="title">
        <h1>Un mensajito r√°pido para Gaby‚Ä¶</h1>
        <p>Hecho con cari√±o por Juanes üòå</p>
      </div>
    </div>

    <div class="bubble">
      <div class="type" id="type"></div><span class="cursor" id="cursor"></span>
    </div>

    <div class="actions">
      <button class="b1 pulse" onclick="play()">‚ñ∂Ô∏è Reproducir</button>
      <button class="b2" onclick="repeatMsg()">üîÅ Repetir</button>
      <button class="b3" onclick="showRandomMedia()">üòä Para que te alegres un poco‚Ä¶ (Puedes darle varias veces)</button>
      <button class="b3" onclick="openPlaylist()">üéß Recuerda que aqu√≠ tambi√©n me puedes encontrar :)</button>
    </div>

    <div class="gifBox" id="gifBox">
      <img id="gifImg" src="" alt="media" />
    </div>

    <div class="mini">
      <span>Tip: toca ‚ÄúReproducir‚Äù y mira la magia ‚ú®</span>
      <span>üíñ</span>
    </div>
  </div>

  <script>
    // Mensaje palabra por palabra
    const words = [
      "Hice","esto","para","que","sepas","que",
      "te","extra√±o","mucho","mi","amorcito",";(",
      "\n\n","Ven","a","mi","Hermosaaa","üíñ"
    ];

    let i=0, running=false, hasPlayedOnce=false, timer=null, delay=420;

    const typeEl=document.getElementById("type");
    const cursorEl=document.getElementById("cursor");

    function tick(){
      if(!running) return;

      if(i>=words.length){
        cursorEl.style.display="none";
        running=false;
        timer=null;
        return;
      }

      const w=words[i++];

      if(w === "\n\n"){
        typeEl.textContent += "\n\n";
      } else {
        const isEmojiTail = (w === "üíô" || w === "üíñ");
        const needSpace =
          typeEl.textContent.length > 0 &&
          !typeEl.textContent.endsWith("\n") &&
          !isEmojiTail;
        typeEl.textContent += (needSpace ? " " : "") + w;
      }

      timer=setTimeout(tick, delay);
    }

    function play(){
      if(running) return;

      hasPlayedOnce = true;

      if(i >= words.length){
        i = 0;
        typeEl.textContent = "";
      }

      running = true;
      cursorEl.style.display = "inline-block";
      tick();
    }

    function repeatMsg(){
      if(!hasPlayedOnce) return;

      running = false;
      if(timer) clearTimeout(timer);
      timer = null;

      typeEl.textContent = "Okey‚Ä¶ te lo repito‚Ä¶ üòå";
      cursorEl.style.display = "none";

      setTimeout(()=>{
        i = 0;
        typeEl.textContent = "";
        cursorEl.style.display = "inline-block";
        running = true;
        tick();
      }, 5000);
    }

    // Media aleatoria: 1.gif..13.gif y 14 en JPEG (probamos .jpg y .jpeg)
    function showRandomMedia(){
      const media = [];
      for(let n=1; n<=13; n++) media.push(`${n}.gif`);
      media.push("14.jpg");
      media.push("14.jpeg");

      const pick = media[Math.floor(Math.random()*media.length)];

      const box = document.getElementById("gifBox");
      const img = document.getElementById("gifImg");

      img.onerror = () => {
        if (pick === "14.jpg") img.src = "14.jpeg?v=" + Date.now();
        else if (pick === "14.jpeg") img.src = "14.jpg?v=" + Date.now();
      };

      img.src = pick + "?v=" + Date.now();
      box.style.display = "block";
    }

    function openPlaylist(){
      window.open(
        "https://music.youtube.com/playlist?list=PLr8AVcMUVnIzCwmkRm7MO-yp7zKjvf_O9&si=jriJD63JeJjcXdKs",
        "_blank"
      );
    }

    // Corazones flotantes
    const float = document.getElementById("float");
    const icons = ["üíô","üíñ","‚ú®","üíå","ü•∫"];
    for(let k=0;k<22;k++){
      const s = document.createElement("span");
      s.textContent = icons[Math.floor(Math.random()*icons.length)];
      s.style.left = Math.floor(Math.random()*100) + "vw";
      s.style.top = (60 + Math.random()*60) + "vh";
      s.style.animationDuration = (6 + Math.random()*6) + "s";
      s.style.animationDelay = (Math.random()*4) + "s";
      float.appendChild(s);
    }
  </script>
</body>
</html>
